const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/index.B6ghVupe.js","../chunks/disclose-version.BjN4KwoF.js","../chunks/runtime.UYpW1pR2.js","../chunks/legacy.BVRkKyTy.js","../chunks/index.BJk9dAYW.js","../chunks/index.CP79NySP.js","../chunks/index.D25Br9gj.js","../chunks/index.BUO1MENq.js","../chunks/index.C7HDTm0M.js"])))=>i.map(i=>d[i]);
import{_ as E,o as re,r as ie,b as se,a as ne,c as oe,s as le}from"../chunks/preload-helper.y_q1jRpp.js";import{a as g,t as x,h as de}from"../chunks/disclose-version.BjN4KwoF.js";import{h as K,s as d,j as s,r as t,a3 as w,k as r,p as z,i as C,g as H,l as G,ae as J,n as X,a2 as T}from"../chunks/runtime.UYpW1pR2.js";import{s as p}from"../chunks/render.BEgy4mVX.js";import{e as q,i as V,h as me,s as j}from"../chunks/attributes.DYabQLMa.js";import{b as W}from"../chunks/paths.BM9tWYdc.js";function ce(n,a){var e=n.__className,i=ue(a);K&&n.className===i?n.__className=i:(e!==i||K&&n.className!==i)&&(a==null?n.removeAttribute("class"):n.className=i,n.__className=i)}function ue(n){return n??""}const ve=(n,a,e)=>{const i=n[a];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((c,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+a+(a.split("/").length!==e?". Note that variables only represent file names one level deep.":""))))})};async function pe({data:n}){let{tree:a,trees:e,qa:i,treeMap:c}=n;const o=await ve(Object.assign({"../../../../data/trees/ash/index.md":()=>E(()=>import("../chunks/index.B6ghVupe.js"),__vite__mapDeps([0,1,2,3]),import.meta.url),"../../../../data/trees/beech/index.md":()=>E(()=>import("../chunks/index.BJk9dAYW.js"),__vite__mapDeps([4,1,2,3]),import.meta.url),"../../../../data/trees/elm/index.md":()=>E(()=>import("../chunks/index.CP79NySP.js"),__vite__mapDeps([5,1,2,3]),import.meta.url),"../../../../data/trees/fir/index.md":()=>E(()=>import("../chunks/index.D25Br9gj.js"),__vite__mapDeps([6,1,2,3]),import.meta.url),"../../../../data/trees/oak/index.md":()=>E(()=>import("../chunks/index.BUO1MENq.js"),__vite__mapDeps([7,1,2,3]),import.meta.url),"../../../../data/trees/pine/index.md":()=>E(()=>import("../chunks/index.C7HDTm0M.js"),__vite__mapDeps([8,1,2,3]),import.meta.url)}),`../../../../data/trees/${n.tree.slug}/index.md`,8);return{trees:e,tree:a,qa:i,component:o.default,treeMap:c}}const De=Object.freeze(Object.defineProperty({__proto__:null,load:pe},Symbol.toStringTag,{value:"Module"}));var _e=x("<tr><td><span> </span></td><td> </td><td> </td><td> </td></tr>"),fe=x('<table class="striped"><thead><tr><th>Tree</th><th>Max Age (y)</th><th>Max Height (m)</th><th>Est. number</th></tr></thead><tbody></tbody></table>');function he(n,a){var e=fe(),i=d(s(e));q(i,21,()=>a.trees,V,(c,o)=>{var u=_e(),v=s(u),_=s(v),b=s(_,!0);t(_),t(v);var m=d(v),l=s(m,!0);t(m);var h=d(m),f=s(h,!0);t(h);var P=d(h),M=s(P,!0);t(P),t(u),w(()=>{ce(_,r(o).meta.title===a.treeName?"selected":""),p(b,r(o).meta.title),p(l,r(o).meta.maxAge),p(f,r(o).meta.maxHeight),p(M,r(o).meta.approxNumber)}),g(c,u)}),t(i),t(e),g(n,e)}var ge=x('<figure class="main-img"><img loading="lazy" width="340px" alt=""> <figcaption class="caption">Image by <a class="secondary"> </a></figcaption></figure>');function xe(n,a){z(a,!0);var e=ge(),i=s(e),c=d(i,2),o=d(s(c)),u=s(o,!0);t(o),t(c),t(e),w(()=>{j(i,"src",W+a.data.image.path),j(o,"href",W+a.data.image.path),p(u,a.data.image.credit)}),me(i),g(n,e),C()}var be=x('<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" crossorigin="">'),ye=x(`<div id="treemap" style="
    width: 340px;
    height: 340px;
    position: relative;
    margin: 24px auto 0 auto;
  " class="leaflet-container leaflet-touch leaflet-retina leaflet-fade-anim leaflet-grab leaflet-touch-drag leaflet-touch-zoom" tabindex="0"></div> <p class="caption"> </p>`,1);function Le(n,a){z(a,!0);let e=J(void 0),i=J(void 0);re(async()=>{await c()});async function c(){if(console.log("setup()"),!r(e))try{await new Promise((l,h)=>{const f=document.createElement("script");f.src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js",f.crossOrigin="",f.onload=()=>l(),f.onerror=()=>h(new Error("Failed to load Leaflet")),document.body.appendChild(f)}),G(e,ne(L.map(r(i)))),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(r(e))}catch(m){console.log(m)}}function o(){if(!r(e))return;console.log("drawing markers on map"),console.log("--------------------"),r(e).eachLayer(l=>{(l instanceof L.Marker||l instanceof L.Popup)&&r(e).removeLayer(l)});const m=[];a.markers.forEach(l=>{L.popup().setLatLng([l.latitude,l.longitude]).setContent(l.name).addTo(r(e)),m.push([l.latitude,l.longitude])}),m.length>0?r(e).fitBounds(m):console.log("No markers to fit bounds.")}ie(()=>{a.markers&&r(e)&&o()});var u=ye();de(m=>{var l=be();g(m,l)});var v=H(u);se(v,m=>G(i,m),()=>r(i));var _=d(v,2),b=s(_);t(_),w(()=>p(b,`${a.tree??""} trees in the UK`)),g(n,u),C()}var Ee=x("<details><summary><b> </b></summary> <p> </p></details> <hr>",1);function we(n,a){z(a,!0);var e=Ee(),i=H(e),c=s(i),o=s(c),u=s(o,!0);t(o),t(c);var v=d(c,2),_=s(v,!0);t(v),t(i),X(2),w(()=>{p(u,a.data.question),p(_,a.data.answer)}),g(n,e),C()}var Me=x("<li><a> </a></li>"),Oe=x('<h1> </h1> <hr> <section><!> <p><em> </em></p> <!> <div class="clear"></div></section> <section><div><h2> </h2></div> <div class="databox"><div class="left"><!></div> <div class="right"><!></div></div></section> <section><h2 class="spacer"> </h2> <hr> <!></section> <section><h2 class="spacer">Other trees</h2> <ul></ul></section>',1);function Re(n,a){let e=T(()=>a.data.tree),i=T(()=>a.data.trees),c=T(()=>a.data.qa),o=T(()=>a.data.treeMap);var u=Oe(),v=H(u),_=s(v);t(v);var b=d(v,4),m=s(b);xe(m,{get data(){return r(e).meta}});var l=d(m,2),h=s(l),f=s(h,!0);t(h),t(l);var P=d(l,2);oe(P,()=>a.data.component,(O,y)=>{y(O,le(()=>r(e)))}),X(2),t(b);var M=d(b,2),k=s(M),S=s(k),Y=s(S);t(S),t(k);var Q=d(k,2),N=s(Q),Z=s(N);he(Z,{get trees(){return r(i)},get treeName(){return r(e).meta.title}}),t(N);var U=d(N,2),$=s(U);Le($,{get markers(){return r(o).data},get tree(){return r(e).meta.title}}),t(U),t(Q),t(M);var I=d(M,2),A=s(I),ee=s(A);t(A);var te=d(A,4);q(te,17,()=>r(c).data,V,(O,y)=>{we(O,{get data(){return r(y)}})}),t(I);var B=d(I,2),F=d(s(B),2);q(F,21,()=>r(i),V,(O,y)=>{var D=Me(),R=s(D),ae=s(R,!0);t(R),t(D),w(()=>{j(R,"href",r(y).slug),p(ae,r(y).meta.title)}),g(O,D)}),t(F),t(B),w(()=>{p(_,`${r(e).meta.title??""} - (${r(e).meta.latin??""})`),p(f,r(e).meta.summary),p(Y,`${r(e).meta.title??""} trees in context`),p(ee,`Questions about ${r(e).meta.title??""} trees`)}),g(n,u)}export{Re as component,De as universal};
